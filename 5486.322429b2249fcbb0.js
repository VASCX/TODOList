"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5486],{5486:(H,C,h)=>{h.r(C),h.d(C,{HomePageModule:()=>X});var f=h(177),a=h(7125),p=h(4341),t=h(9498),m=h(8490);function M(n,u){1&n&&t.nrm(0,"app-message",20),2&n&&t.Y8G("tasks",u.$implicit)}let T=(()=>{class n{constructor(){this.totalTasks=0,this.completedTasks=0,this.remainingTasks=0,this.results=[],this.dataService=(0,t.WQX)(m.u),this.filter="all",this.sortOption="asc",this.dataService.updateObs()}ngOnInit(){this.subscription=this.dataService.tasks$.subscribe(e=>{this.results=e||[],this.sortTasks()}),this.dataService.countTasks(),this.subscription=this.dataService.tasks$.subscribe(e=>{console.log(e)}),this.subscription=this.dataService.filter$.subscribe(e=>{this.filter=e})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}onSortChange(e){this.sortOption=e.detail.value,this.sortTasks()}sortTasks(){"asc"===this.sortOption?this.results.sort((e,i)=>{const s=e.title.toLowerCase(),o=i.title.toLowerCase();return s.localeCompare(o)}):"desc"===this.sortOption?this.results.sort((e,i)=>{const s=e.title.toLowerCase();return i.title.toLowerCase().localeCompare(s)}):"closest"===this.sortOption?this.results.sort((e,i)=>(e.date?new Date(e.date).getTime():Number.MAX_SAFE_INTEGER)-(i.date?new Date(i.date).getTime():Number.MAX_SAFE_INTEGER)):"furthest"===this.sortOption&&this.results.sort((e,i)=>{const s=e.date?new Date(e.date).getTime():Number.MAX_SAFE_INTEGER;return(i.date?new Date(i.date).getTime():Number.MAX_SAFE_INTEGER)-s})}refresh(e){setTimeout(()=>{this.dataService.updateObs(),e.detail.complete()},300)}gettasks(){return this.dataService.getTasks()}changeF(e){this.dataService.currentFilter=e,this.results=this.dataService.FiltersFunction(this.dataService.currentSearch,e),this.sortTasks()}handleInput(e){const s=e.target.value?.toLowerCase()||"";this.dataService.currentSearch=s,this.results=this.dataService.FiltersFunction(this.dataService.currentSearch,this.filter),this.sortTasks()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-home"]],standalone:!1,decls:38,vars:3,consts:[["filterSelect",""],[3,"translucent"],["slot","start"],["show-clear-button","focus",3,"ionInput"],[2,"text-align","center","font-family","'Work Sans'","font-size","25px"],["slot","end"],[2,"width","auto",3,"ionChange","value"],["value","asc"],["value","desc"],["value","furthest"],["value","closest"],["placeholder","Filter",3,"ionChange"],["value","all"],["value","completed"],["value","remaining"],[2,"padding-left","1%"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["collapse","condense"],["size","large"],[3,"tasks"]],template:function(i,s){if(1&i){const o=t.RV6();t.j41(0,"ion-header",1)(1,"ion-toolbar")(2,"ion-buttons",2)(3,"ion-searchbar",3),t.bIt("ionInput",function(r){return t.eBV(o),t.Njj(s.handleInput(r))}),t.k0s()(),t.j41(4,"ion-title",4),t.EFF(5," To-do List \u{1f5f9} "),t.k0s(),t.j41(6,"ion-buttons",5)(7,"ion-item")(8,"ion-select",6),t.bIt("ionChange",function(r){return t.eBV(o),t.Njj(s.onSortChange(r))}),t.j41(9,"ion-select-option",7),t.EFF(10,"A-Z"),t.k0s(),t.j41(11,"ion-select-option",8),t.EFF(12,"Z-A"),t.k0s(),t.j41(13,"ion-select-option",9),t.EFF(14,"Time left \u2b06"),t.k0s(),t.j41(15,"ion-select-option",10),t.EFF(16,"Time left \u2b07"),t.k0s()()(),t.j41(17,"div")(18,"ion-item")(19,"ion-select",11,0),t.bIt("ionChange",function(){t.eBV(o);const r=t.sdS(20);return t.Njj(s.changeF(r.value))}),t.j41(21,"ion-select-option",12),t.EFF(22,"All"),t.k0s(),t.j41(23,"ion-select-option",13),t.EFF(24,"Completed"),t.k0s(),t.j41(25,"ion-select-option",14),t.EFF(26,"Remaining"),t.k0s()()()(),t.nrm(27,"app-add-task",15),t.k0s()()(),t.j41(28,"ion-content",16)(29,"ion-refresher",17),t.bIt("ionRefresh",function(r){return t.eBV(o),t.Njj(s.refresh(r))}),t.nrm(30,"ion-refresher-content"),t.k0s(),t.j41(31,"ion-header",18)(32,"ion-toolbar")(33,"ion-title",19),t.EFF(34," Inbox "),t.k0s()()(),t.j41(35,"ion-list"),t.Z7z(36,M,1,1,"app-message",20,t.fX1),t.k0s()()}2&i&&(t.Y8G("translucent",!0),t.R7$(8),t.Y8G("value",s.sortOption),t.R7$(20),t.Y8G("fullscreen",!0),t.R7$(8),t.Dyx(s.results))},encapsulation:2})}}return n})();var g=h(7291);const x=[{path:"",component:T}];let b=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[g.iI.forChild(x),g.iI]})}}return n})();const j=n=>({$implicit:n});function w(n,u){1&n&&t.eu8(0)}function F(n,u){if(1&n&&t.DNE(0,w,1,0,"ng-container",1),2&n){const e=t.XpG();t.Y8G("ngTemplateOutlet",e.render)("ngTemplateOutletContext",t.eq3(2,j,e.i))}}function D(n,u){if(1&n&&t.nrm(0,"span",0),2&n){const e=t.XpG();t.Y8G("innerHTML",e.i.text,t.npT)}}var c=function(n){return n[n.ing=0]="ing",n[n.pause=1]="pause",n[n.stop=2]="stop",n[n.done=3]="done",n}(c||{});let k=(()=>{class n{constructor(){this.ngZone=(0,t.WQX)(t.SKi),this.fns=[],this.commands=[],this.nextTime=0,this.ing=!1}start(){!0!==this.ing&&(this.ing=!0,this.nextTime=+new Date,this.ngZone.runOutsideAngular(()=>{this.process()}))}process(){for(;this.commands.length;)this.commands.shift()();let e=+new Date-this.nextTime;const i=1+Math.floor(e/100);e=100-e%100,this.nextTime+=100*i;for(let s=0,o=this.fns.length;s<o;s+=2){let l=this.fns[s+1];if(0===l)this.fns[s](i);else{l+=2*i-1;const r=Math.floor(l/20);r>0&&this.fns[s](r),this.fns[s+1]=l%20+1}}this.ing&&setTimeout(()=>this.process(),e)}add(e,i){return this.commands.push(()=>{this.fns.push(e),this.fns.push(1e3===i?1:0),this.ing=!0}),this}remove(e){return this.commands.push(()=>{const i=this.fns.indexOf(e);-1!==i&&this.fns.splice(i,2),this.ing=this.fns.length>0}),this}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=t.jDH({token:n,factory:n.\u0275fac})}}return n})();const y=new t.nKC("COUNTDOWN_CONFIG");let E=(()=>{class n{constructor(){this.locale=(0,t.WQX)(t.xe9),this.timer=(0,t.WQX)(k),this.cdr=(0,t.WQX)(t.gRc),this.ngZone=(0,t.WQX)(t.SKi),this.defCog=(0,t.WQX)(y,{optional:!0}),this.frequency=1e3,this._notify={},this.status=c.ing,this.isDestroy=!1,this.i={},this.left=0,this.event=new t.bkB}set config(e){null!=e.notify&&!Array.isArray(e.notify)&&e.notify>0&&(e.notify=[e.notify]),this._config=e}get config(){return this._config}begin(){this.status=c.ing,this.callEvent("start")}restart(){this.status!==c.stop&&this.destroy(),this.init(),this.callEvent("restart")}stop(){this.status!==c.stop&&(this.status=c.stop,this.destroy(),this.callEvent("stop"))}pause(){this.status===c.stop||this.status===c.pause||(this.status=c.pause,this.callEvent("pause"))}resume(){this.status===c.stop||this.status!==c.pause||(this.status=c.ing,this.callEvent("resume"))}callEvent(e){this.event.emit({action:e,left:this.left,status:this.status,text:this.i.text})}init(){const e=this.config={demand:!1,leftTime:0,format:"HH:mm:ss",timezone:"+0000",formatDate:({date:o,formatStr:l,timezone:r})=>(0,f.Yq)(new Date(o),l,this.locale,r||"+0000"),...this.defCog,...this.config},i=this.frequency=~e.format.indexOf("S")?100:1e3;this.status=e.demand?c.pause:c.ing,this.getLeft();const s=this.reflow;this.reflow=(o=0,l=!1)=>s.apply(this,[o,l]),Array.isArray(e.notify)&&e.notify.forEach(o=>{if(o<1)throw new Error("The notify config must be a positive integer.");o*=1e3,this._notify[o-=o%i]=!0}),this.timer.add(this.reflow,i).start(),this.reflow(0,!0)}destroy(){return this.timer.remove(this.reflow),this}reflow(e=0,i=!1){if(this.isDestroy)return;const{status:s,config:o,_notify:l}=this;if(!i&&s!==c.ing)return;let r=this.left=this.left-this.frequency*e;r<1&&(r=0),this.i={value:r,text:o.formatDate({date:r,formatStr:o.format,timezone:o.timezone})},"function"==typeof o.prettyText&&(this.i.text=o.prettyText(this.i.text)),this.cdr.detectChanges(),(0===o.notify||l[r])&&this.ngZone.run(()=>{this.callEvent("notify")}),0===r&&this.ngZone.run(()=>{this.status=c.done,this.destroy(),this.callEvent("done")})}getLeft(){const{config:e,frequency:i}=this;let s=1e3*e.leftTime;const o=e.stopTime;!s&&o&&(s=o-(new Date).getTime()),this.left=s-s%i}ngOnInit(){this.init(),this.config.demand||this.begin()}ngOnDestroy(){this.isDestroy=!0,this.destroy()}ngOnChanges(e){e.config.firstChange||this.restart()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["countdown"]],hostVars:2,hostBindings:function(i,s){2&i&&t.AVh("count-down",!0)},inputs:{config:"config",render:"render"},outputs:{event:"event"},features:[t.Jv_([k]),t.OA$],decls:2,vars:1,consts:[[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,s){1&i&&t.DNE(0,F,1,4,"ng-container")(1,D,1,1,"span",0),2&i&&t.vxM(s.render?0:1)},dependencies:[f.T3],styles:[".count-down{font-variant-numeric:tabular-nums}\n"],encapsulation:2,changeDetection:0})}}return n})(),O=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({})}}return n})(),I=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[f.MD,p.YN,a.bv,g.iI,O]})}}return n})();var d=h(4935);function G(n,u){if(1&n){const e=t.RV6();t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",3)(3,"ion-button",4),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.cancel())}),t.EFF(4,"Cancel"),t.k0s()(),t.j41(5,"ion-title",5),t.EFF(6,"Add a task"),t.k0s(),t.j41(7,"ion-buttons",6)(8,"ion-button",7),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.confirm())}),t.EFF(9,"Add"),t.k0s()()()(),t.j41(10,"ion-content",1)(11,"ion-item",8)(12,"ion-input",9),t.mxI("ngModelChange",function(s){t.eBV(e);const o=t.XpG();return t.DH7(o.title,s)||(o.title=s),t.Njj(s)}),t.k0s()(),t.j41(13,"ion-item",8)(14,"ion-input",10),t.mxI("ngModelChange",function(s){t.eBV(e);const o=t.XpG();return t.DH7(o.description,s)||(o.description=s),t.Njj(s)}),t.k0s()(),t.j41(15,"ion-item",8)(16,"ion-input",11),t.mxI("ngModelChange",function(s){t.eBV(e);const o=t.XpG();return t.DH7(o.category,s)||(o.category=s),t.Njj(s)}),t.k0s()(),t.j41(17,"ion-item",8)(18,"ion-input",12),t.mxI("ngModelChange",function(s){t.eBV(e);const o=t.XpG();return t.DH7(o.date,s)||(o.date=s),t.Njj(s)}),t.k0s()()()}if(2&n){const e=t.XpG();t.R7$(8),t.Y8G("strong",!0),t.R7$(4),t.R50("ngModel",e.title),t.Y8G("clearInput",!0)("counter",!0),t.R7$(2),t.R50("ngModel",e.description),t.Y8G("clearInput",!0)("counter",!0),t.R7$(2),t.R50("ngModel",e.category),t.Y8G("clearInput",!0)("counter",!0),t.R7$(2),t.R50("ngModel",e.date)}}let v=(()=>{class n{constructor(){this.dataService=(0,t.WQX)(m.u),this.message="This modal example uses triggers to automatically open a modal when the button is clicked."}cancel(){this.modal.dismiss(null,"cancel")}confirm(){this.title.length>3&&this.description.length>4&&this.category.length>3&&null!=this.date&&(m.u.prototype.save(this.title,this.description,this.category,this.date),this.modal.dismiss(this.title,"confirm"))}onWillDismiss(e){this.dataService.updateObs()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-add-task"]],viewQuery:function(i,s){if(1&i&&t.GBs(d.Sb,5),2&i){let o;t.mGM(o=t.lsd())&&(s.modal=o.first)}},decls:5,vars:1,consts:[["id","open-modal","expand","block"],[1,"ion-padding"],["trigger","open-modal","id","example-mod",3,"willDismiss","backdropDismiss"],["slot","start"],[3,"click"],[2,"font-family","Work Sans"],["slot","end"],[3,"click","strong"],["lines","none"],["label","Enter the name of the task","labelPlacement","stacked","type","text","placeholder","Task","minlength","4","errorText","Must have at least 4 characters",3,"ngModelChange","ngModel","clearInput","counter"],["label","Enter the description of the task","labelPlacement","stacked","type","text","placeholder","Description","minlength","10","errorText","Must have at least 10 characters",3,"ngModelChange","ngModel","clearInput","counter"],["label","Enter the category of the task","labelPlacement","stacked","type","text","placeholder","Category","minlength","3","errorText","Must have at least 3 characters",3,"ngModelChange","ngModel","clearInput","counter"],["id","dateInput","label","Enter the description of the date","labelPlacement","stacked","type","datetime-local","required","true","errorText","Invalid date",3,"ngModelChange","ngModel"]],template:function(i,s){1&i&&(t.j41(0,"ion-button",0),t.EFF(1,"Add"),t.k0s(),t.j41(2,"ion-content",1)(3,"ion-modal",2),t.bIt("willDismiss",function(l){return s.onWillDismiss(l)}),t.DNE(4,G,19,11,"ng-template"),t.k0s()()),2&i&&(t.R7$(3),t.Y8G("backdropDismiss",!1))},dependencies:[p.YN,p.BC,p.YS,p.xh,p.vS,d.QW,d.W9,d.eU,d.$w,d.uz,d.Sb,d.BC,d.ai,d.Jm],encapsulation:2})}}return n})();var S=h(8880);function N(n,u){1&n&&t.nrm(0,"ion-icon",6)}function R(n,u){if(1&n&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&n){const e=t.XpG().days;t.R7$(),t.JRh(e)}}function A(n,u){1&n&&t.DNE(0,R,2,1,"span",9),2&n&&t.Y8G("ngIf",u.days>0)}function B(n,u){if(1&n){const e=t.RV6();t.j41(0,"ion-item",1)(1,"div",2)(2,"ion-checkbox",3),t.mxI("ngModelChange",function(s){t.eBV(e);const o=t.XpG();return t.DH7(o.tasks.state,s)||(o.tasks.state=s),t.Njj(s)}),t.bIt("click",function(){t.eBV(e);const s=t.XpG();return t.Njj(s.StateChange(s.tasks))}),t.k0s()(),t.j41(3,"ion-label",4)(4,"h2"),t.EFF(5),t.j41(6,"span",5)(7,"ion-note"),t.EFF(8),t.nI1(9,"date"),t.k0s(),t.DNE(10,N,1,0,"ion-icon",6),t.k0s()(),t.j41(11,"p"),t.EFF(12),t.j41(13,"ion-note",7)(14,"countdown",8),t.DNE(15,A,1,1,"ng-template",null,0,t.C5r),t.k0s()()()()()}if(2&n){const e=t.XpG();t.Y8G("routerLink","/message/"+e.tasks.id)("detail",!1),t.R7$(2),t.R50("ngModel",e.tasks.state),t.R7$(3),t.SpI(" ",e.tasks.title," "),t.R7$(3),t.JRh(t.i5U(9,8,e.tasks.date,"dd/MM/YYYY hh:mm")),t.R7$(2),t.vxM(e.isIos()?10:-1),t.R7$(2),t.SpI(" ",e.tasks.category," | "),t.R7$(2),t.Y8G("config",e.Timer(e.tasks.date))}}let P=(()=>{class n{isIos(){return this.platform.is("ios")}constructor(e){this.cdr=e,this.platform=(0,t.WQX)(S.OD),this.dataService=(0,t.WQX)(m.u)}StateChange(e){this.cdr.detectChanges(),e&&(e.state=!e.state,this.dataService.updateTaskState(e),console.log("Task after update:",e))}Timer(e){const i=new Date(e).getTime(),s=(new Date).getTime(),o=Math.floor((i-s)/1e3);if(o<0)return{leftTime:0,format:"HH:mm:ss"};let _;return _=o>86400?o-86400:o,{leftTime:_,format:Math.floor(o/86400)>0?"dd:HH:mm:ss":"HH:mm:ss"}}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)(t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-message"]],inputs:{tasks:"tasks"},standalone:!1,decls:1,vars:1,consts:[["tpl",""],[3,"routerLink","detail"],["slot","start"],[2,"margin-left","12px",3,"ngModelChange","click","ngModel"],[1,"ion-text-wrap"],[1,"date"],["aria-hidden","true","name","chevron-forward","size","small"],[2,"text-align","end"],[2,"margin-left","auto","margin-right","2%",3,"config"],[4,"ngIf"]],template:function(i,s){1&i&&t.DNE(0,B,17,11,"ion-item",1),2&i&&t.vxM(s.tasks?0:-1)},dependencies:[f.bT,p.BC,p.vS,a.eY,a.iq,a.uz,a.he,a.JI,a.hB,a.N7,g.Wk,E,f.vh],styles:["ion-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-end: 0}ion-label[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:12px}ion-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;margin:0;display:flex;flex-wrap:wrap;justify-content:space-between}ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:95%}ion-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{align-items:center;display:flex}ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#c9c9ca}ion-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{font-size:.9375rem;margin-right:8px;font-weight:400}ion-item[_ngcontent-%COMP%]   ion-note.md[_ngcontent-%COMP%]{margin-right:14px}.dot[_ngcontent-%COMP%]{display:block;height:12px;width:12px;border-radius:50%;align-self:start;margin:16px 10px 16px 16px}.dot-unread[_ngcontent-%COMP%]{background:var(--ion-color-primary)}ion-footer[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:11px;font-weight:400}"]})}}return n})(),X=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[f.MD,p.YN,a.bv,I,b,v]})}}return n})();t.wjB(T,[a.QW,a.W9,a.eU,a.uz,a.nf,a.To,a.Ki,a.S1,a.Nm,a.Ip,a.BC,a.ai,a.Je,a.Gw,P,v],[])}}]);