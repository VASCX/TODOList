"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4738],{4738:(w,m,l)=>{l.r(m),l.d(m,{ViewMessagePageModule:()=>P});var c=l(177),r=l(4341),e=l(9498),g=l(7291),u=l(8880),o=l(4935),f=l(8490);const _=["modal"],M=["modalDelete"];function k(i,p){if(1&i){const t=e.RV6();e.j41(0,"ion-content",8)(1,"ion-refresher",11),e.bIt("ionRefresh",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.refresh(n))}),e.nrm(2,"ion-refresher-content"),e.k0s(),e.j41(3,"ion-item")(4,"ion-label",12)(5,"h2"),e.EFF(6),e.j41(7,"span",13)(8,"ion-note"),e.EFF(9),e.nI1(10,"date"),e.k0s()()()()(),e.j41(11,"div")(12,"h4",14),e.EFF(13),e.k0s()(),e.j41(14,"div")(15,"h5",15),e.EFF(16),e.k0s()()()}if(2&i){const t=e.XpG();e.Y8G("fullscreen",!0),e.R7$(6),e.SpI(" ",t.message.title," "),e.R7$(3),e.JRh(e.i5U(10,5,t.message.date,"dd/MM/YYYY hh:mm")),e.R7$(4),e.SpI(" ",t.message.category," "),e.R7$(3),e.SpI(" ",t.message.description," ")}}function j(i,p){if(1&i){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",3)(3,"ion-button",16),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelEdit())}),e.EFF(4,"Cancel"),e.k0s()(),e.j41(5,"ion-title",17),e.EFF(6,"Edit Task"),e.k0s(),e.j41(7,"ion-buttons",5)(8,"ion-button",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmEdit(n.message.id))}),e.EFF(9,"Save"),e.k0s()()()(),e.j41(10,"ion-content",19)(11,"ion-item",20)(12,"ion-input",21),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.title,n)||(a.title=n),e.Njj(n)}),e.k0s()(),e.j41(13,"ion-item",20)(14,"ion-input",22),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.description,n)||(a.description=n),e.Njj(n)}),e.k0s()(),e.j41(15,"ion-item",20)(16,"ion-input",23),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.category,n)||(a.category=n),e.Njj(n)}),e.k0s()(),e.j41(17,"ion-item",20)(18,"ion-input",24),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.date,n)||(a.date=n),e.Njj(n)}),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(8),e.Y8G("strong",!0),e.R7$(4),e.R50("ngModel",t.title),e.Y8G("clearInput",!0)("counter",!0),e.R7$(2),e.R50("ngModel",t.description),e.Y8G("clearInput",!0)("counter",!0),e.R7$(2),e.R50("ngModel",t.category),e.Y8G("clearInput",!0)("counter",!0),e.R7$(2),e.R50("ngModel",t.date)}}function b(i,p){if(1&i){const t=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",3)(3,"ion-button",16),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelDelete())}),e.EFF(4,"Cancel"),e.k0s()(),e.j41(5,"ion-title",17),e.EFF(6,"Delete Task"),e.k0s(),e.j41(7,"ion-buttons",5)(8,"ion-button",18),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.confirmDelete(n.message.id))}),e.EFF(9,"Confirm"),e.k0s()()()(),e.j41(10,"ion-content",19)(11,"p",25),e.EFF(12,"Are you sure you want to delete this task?"),e.k0s(),e.nrm(13,"img",26),e.j41(14,"p",27)(15,"i"),e.EFF(16,"If you delete this task, it can't be recovered*"),e.k0s()()()}2&i&&(e.R7$(8),e.Y8G("strong",!0))}let h=(()=>{class i{constructor(t){this.location=t,this.dataService=(0,e.WQX)(f.u),this.activatedRoute=(0,e.WQX)(g.nX),this.platform=(0,e.WQX)(u.OD),this.title="",this.description="",this.date="",this.category=""}ngOnInit(){this.loadMessage()}loadMessage(){const t=this.activatedRoute.snapshot.paramMap.get("id");if(t){const s=JSON.parse(localStorage.getItem("tasks")||"[]");this.message=s.find(n=>n.id===parseInt(t,10)),this.message&&(this.title=this.message.title,this.description=this.message.description,this.date=this.message.date,this.category=this.message.category)}}refresh(t){setTimeout(()=>{this.loadMessage(),t.detail.complete()},300)}getBackButtonText(){return this.platform.is("ios")?"Inbox":""}cancelEdit(){this.modal.dismiss(null,"cancel")}confirmEdit(t){this.title.length>3&&this.description.length>4&&this.category.length>3&&null!=this.date&&(this.EditTask(t),this.modal.dismiss(this.title,"confirm"),location.reload())}onWillDismiss(t){this.dataService.updateObs()}EditTask(t){this.dataService.editTask(t,this.title,this.category,this.description,this.date)}cancelDelete(){this.modalDelete.dismiss(null,"cancel")}confirmDelete(t){this.DeleteTask(t),this.modalDelete.dismiss(this.title,"confirm"),this.location.back()}DeleteTask(t){this.dataService.deleteTask(t)}onDeleteDismiss(t){this.dataService.updateObs()}static{this.\u0275fac=function(s){return new(s||i)(e.rXU(c.aZ))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-view-message"]],viewQuery:function(s,n){if(1&s&&(e.GBs(_,5,o.Sb),e.GBs(M,5,o.Sb)),2&s){let a;e.mGM(a=e.lsd())&&(n.modal=a.first),e.mGM(a=e.lsd())&&(n.modalDelete=a.first)}},decls:16,vars:3,consts:[["modal",""],["modalDelete",""],[3,"translucent"],["slot","start"],["defaultHref","/",3,"text"],["slot","end"],["id","open","expand","block"],["id","delete","expand","block",2,"color","red"],[3,"fullscreen"],["id","edit-task","trigger","open",3,"willDismiss"],["trigger","delete",3,"willDismiss"],["slot","fixed",3,"ionRefresh"],[1,"ion-text-wrap"],[1,"date"],[2,"margin-left","1.3%","margin-right","1.3%","font-weight","550"],[2,"margin-left","1.4%","margin-right","1.4%"],["fill","clear",3,"click"],[2,"font-family","Work Sans"],["fill","clear",3,"click","strong"],[1,"ion-padding"],["lines","none"],["label","Enter the name of the task","labelPlacement","stacked","type","text","placeholder","Task","minlength","4","errorText","Must have at least 4 characters",3,"ngModelChange","ngModel","clearInput","counter"],["label","Enter the description of the task","labelPlacement","stacked","type","text","placeholder","Description","minlength","10","errorText","Must have at least 10 characters",3,"ngModelChange","ngModel","clearInput","counter"],["label","Enter the category of the task","labelPlacement","stacked","type","text","placeholder","Category","minlength","3","errorText","Must have at least 3 characters",3,"ngModelChange","ngModel","clearInput","counter"],["id","dateInput","label","Enter the description of the date","labelPlacement","stacked","type","datetime-local","required","true","errorText","Invalid date",3,"ngModelChange","ngModel"],[2,"text-align","center","font-size","25px"],["src","assets/DeleteIcon.png",2,"width","150px","height","150px","display","flex","justify-self","center","align-self","start","margin-top","5%"],[2,"text-align","center","font-size","15px","margin-top","8%"]],template:function(s,n){if(1&s){const a=e.RV6();e.j41(0,"ion-header",2)(1,"ion-toolbar")(2,"ion-buttons",3),e.nrm(3,"ion-back-button",4),e.k0s(),e.j41(4,"ion-buttons",5)(5,"ion-button",6),e.EFF(6,"Edit task"),e.k0s(),e.j41(7,"ion-button",7),e.EFF(8,"Delete"),e.k0s()()()(),e.DNE(9,k,17,8,"ion-content",8),e.j41(10,"ion-modal",9,0),e.bIt("willDismiss",function(d){return e.eBV(a),e.Njj(n.onWillDismiss(d))}),e.DNE(12,j,19,11,"ng-template"),e.k0s(),e.j41(13,"ion-modal",10,1),e.bIt("willDismiss",function(d){return e.eBV(a),e.Njj(n.onDeleteDismiss(d))}),e.DNE(15,b,17,1,"ng-template"),e.k0s()}2&s&&(e.Y8G("translucent",!0),e.R7$(3),e.Y8G("text",n.getBackButtonText()),e.R7$(6),e.vxM(n.message?9:-1))},dependencies:[r.YN,r.BC,r.YS,r.xh,r.vS,o.Jm,c.vh,o.eU,o.Sb,o.ai,o.QW,o.BC,o.W9,o.uz,o.$w,o.he,o.JI,o.el,o.To,o.Ki],styles:["ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0;--background: transparent}ion-label[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:12px}ion-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;display:flex;flex-wrap:wrap;justify-content:space-between}ion-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{align-items:center;display:flex}ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:42px;margin-right:8px}ion-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{font-size:.9375rem;margin-right:12px;font-weight:400}h1[_ngcontent-%COMP%]{margin:0;font-weight:700;font-size:1.4rem}p[_ngcontent-%COMP%]{line-height:1.4}"]})}}return i})();var x=l(7125);const C=[{path:"",component:h}];let D=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[g.iI.forChild(C),g.iI]})}}return i})(),P=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[c.MD,r.YN,x.bv,D,h]})}}return i})()}}]);